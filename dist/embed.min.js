!function(w,d,e){var e=w.esq;e.wrapper=null,e.modal=null,e.store=null,e.element=null,e.uri=null,e.contentPath="https://s3-eu-west-1.amazonaws.com/eventsquare.plugins/embed",e.init=function(t,a,n){e.uri=t;var o=document.getElementsByTagName("head")[0],s=document.createElement("link");switch(s.id="es-store-style",s.rel="stylesheet",s.type="text/css",s.href=e.contentPath+"/embed.min.css",s.media="all",o.appendChild(s),a){case"modal":e.initModal();break;case"embed":e.initEmbed(n)}},e.initModal=function(){e.wrapper=document.createElement("div"),e.store=document.createElement("iframe"),e.modal=document.createElement("div");var t=document.createElement("div"),a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("img");o.src=e.contentPath+"/images/es-logo-light.png",e.wrapper.classList.add("es-store-modal-wrapper"),e.store.classList.add("es-store-iframe"),e.modal.classList.add("es-store-modal"),t.classList.add("es-store-modal-preloader"),a.classList.add("es-store-modal-preloader-animation"),n.classList.add("es-store-header"),o.classList.add("es-store-logo"),e.wrapper.appendChild(e.modal),e.wrapper.appendChild(t),t.appendChild(a),e.modal.appendChild(n),e.modal.appendChild(e.store),n.appendChild(o),e.wrapper.onclick=function(){e.hide()},e.store.onload=function(){e.store.src&&e.modal.classList.add("es-store-modal-open")},w.onresize=function(t){e.layout()},document.body.appendChild(e.wrapper)},e.show=function(){e.store.src||(e.store.src="https://"+e.uri+".eventsquare.co"),e.wrapper.classList.add("es-store-modal-open"),e.layout()},e.hide=function(){e.wrapper.classList.remove("es-store-modal-open")},e.layout=function(){var t=w.innerHeight-50-50;e.modal.style.height=t+"px"},e.initEmbed=function(t){e.store=document.createElement("iframe"),e.store.src="https://"+e.uri+".eventsquare.co",e.store.classList.add("es-store-iframe-embed"),e.element=document.getElementById(t),e.element.appendChild(e.store),w.addEventListener("message",function(t){"setHeight"==t.data[0]&&(e.store.style.height=t.data[1]+"px",e.element.style.height=t.data[1]+"px")},!1)},e.setContentPath=function(t){e.contentPath=t},e.callMethod=function(method,arguments){void 0!==eval("e."+method)?eval("e."+method).apply(e,arguments):console.error('The "'+method+'" method is not available in EventSquare')},e.runQueue=function(){if(e.queue.length)for(i=0;i<e.queue.length;i++){var arguments;(arguments=Array.prototype.slice.call(e.queue[i])).shift(),e.callMethod(e.queue[i][0],arguments)}},e.runQueue()}(window,document);